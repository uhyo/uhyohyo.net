<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>MutationObserverのサンプル2</title>
</head>
<body>
  <p><a href="17_1.html">戻る</a></p>
  <p>まずMutationObserverを登録し、そのあとdiv要素とp要素をbody要素に追加しています。要所でconsole.logによりログを出力しています。詳しくはソースを見てください。
<script>
  //Mutation Observerを登録
  var mo = new MutationObserver(function(records){
    records.forEach(function(record){
      if(record.type==="childList"){
        for(var i=0;i<record.addedNodes.length;i++){
          //追加されたノードをconsole.logで表示Type
          console.log(record.addedNodes[i].nodeName,"が追加されました。");
        }
      }
    });
  });
  mo.observe(document.body,{
    childList:true
  });

  //divとpをbody要素に追加
  document.body.appendChild(document.createElement("div"));
  console.log("divを追加しました。");
  document.body.appendChild(document.createElement("p"));
  console.log("pを追加しました。");

</script>
</body>
</html>
