!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/kirara-gacha-img/",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);const o=self;function s(t,e,n){const o=[];let s,u,c=0,a=0;for(let i=0;i<e;i++){const e=4*i,f=t[e],l=t[e+1],h=t[e+2];Object(r.a)(f,l,h)?a++:(a>=9&&(o.length<n&&o.push(i),0===c?(s=i,c=1):1===c&&null!=s&&(u=i-a-s,c=2)),a=0)}if(null!=u)return[o,u];throw new Error("Something went wrong")}function u(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n].d!==e[n])return!1;return!0}o.onmessage=(t=>{if("end"===t.data)return void close();const{data:e,width:n,height:c}=t.data;let a=0,i=0,f=[];for(let t=0;t<c;t++){let o=0;for(let t=0;t<n;t++){const t=e[a],n=e[a+1],s=e[a+2];Object(r.a)(t,n,s)&&o++,a+=4}const s=n/15;i+s<o?f.push({c:o,d:1,y:t}):i-s>o&&f.push({c:o,d:-1,y:t}),i=o}f=function(t){const e=[];let n=0;for(const r of t)r.y-n<=5?e[e.length-1].y=r.y:e.push(Object.assign({},r)),n=r.y;return e}(f),console.log(JSON.stringify(f));const l=[];if(u(f,[1,-1,1,-1,1,-1])){const t=4*n*(f[1].y+20),[r,o]=s(e.subarray(t,t+4*n),n,5),u=f[1].y-1,c=f[2].y-u;for(const t of r)l.push({height:c,width:o,x:t,y:u});const a=f[3].y-1,i=f[4].y-a;for(const t of r)l.push({height:i,width:o,x:t,y:a})}else if(u(f,[1,-1,1,-1])){const t=4*n*(f[1].y+20),[r,o]=s(e.subarray(t,t+4*n),n,1),u=f[1].y-1,c=f[2].y-u;for(const t of r)l.push({height:c,width:o,x:t,y:u})}const h={data:t.data,result:l};o.postMessage(h,[e.buffer])})},function(t,e,n){"use strict";e.a=function(t,e,n){return Math.abs(t-r.red)+Math.abs(e-r.green)+Math.abs(n-r.blue)<24};const r={blue:255,green:215,red:170}}]);